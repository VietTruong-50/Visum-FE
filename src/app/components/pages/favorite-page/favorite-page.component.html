<div fxLayout="column" fxLayoutAlign="center none" fxLayoutGap="20px">
  <div>
    <p class="content-title topic-title">Bài Hát Đề Xuất</p>
    <div
      fxLayout="row"
      fxLayoutAlign="start start"
      style="width: 98%; margin-left: 25px"
      class="align-self-center"
    >
      <div fxLayout="row wrap" fxLayoutGap="15px grid">
        <span *ngFor="let song of recommendSongs"
          ><div fxLayout="row">
            <div class="image-container" fxLayout="row">
              <img
                width="71px"
                height="80px"
                class="popular-item-img"
                src="../assets/images/song/{{
                  song.imageName != null ? song.imageName : 'songBg'
                }}.jpg"
                alt=""
              />
              <button mat-mini-fab class="middle" (click)="playSong(song)">
                <mat-icon>play_arrow</mat-icon>
              </button>
            </div>

            <div
              fxLayout="row"
              class="popular-item-content"
              fxLayoutAlign="space-between center"
            >
              <div fxLayout="column" fxLayoutAlign="center start">
                <strong>{{ song.songName | truncateText : 22 }}</strong>
                <small>{{ song.songAuthor?.name }}</small>
              </div>
              <div
                fxLayout="row"
                fxLayoutAlign="space-between"
                fxLayoutGap="5px"
              >
                <ng-container>
                  <button
                    mat-mini-fab
                    class="text-white favorite"
                    *ngIf="!checkFavorite(song); else removeFavorite"
                    (click)="addToFavorite(song.id)"
                    title="Add to favorite"
                  >
                    <mat-icon>favorite</mat-icon>
                  </button>
                  <ng-template #removeFavorite>
                    <button
                      mat-mini-fab
                      class="remove-favorite"
                      (click)="removeFromFavorite(song.id)"
                      title="Remove from favorite"
                    >
                      <mat-icon>favorite</mat-icon>
                    </button>
                  </ng-template>
                </ng-container>

                <button
                  mat-mini-fab
                  class="text-white"
                  [matMenuTriggerFor]="menu"
                >
                  <mat-icon>more_horiz</mat-icon>
                </button>
                <mat-menu #menu="matMenu">
                  <button
                    mat-menu-item
                    [matMenuTriggerFor]="playlist"
                    *ngIf="playlistData"
                  >
                    <mat-icon>add_circle_outline</mat-icon>
                    <span>Add to playlist</span>
                  </button>
                  <button mat-menu-item (click)="openCommentDialog(song.id)">
                    <mat-icon>comment</mat-icon>
                    <span>Comment</span>
                  </button>
                </mat-menu>

                <mat-menu #playlist="matMenu">
                  <button
                    mat-menu-item
                    *ngFor="let playlist of playlistData"
                    (click)="addToPlaylist(playlist.id, song.id)"
                  >
                    {{ playlist.playlistName }}
                  </button>
                </mat-menu>
              </div>
            </div>
          </div></span
        >
      </div>
    </div>
  </div>
  <div>
    <p class="content-title topic-title">Yêu Thích</p>

    <mat-tab-group>
      <mat-tab label="Music">
        <app-music-favorite></app-music-favorite>
      </mat-tab>
      <!-- <mat-tab label="Album"> </mat-tab> -->
      <!-- <mat-tab label="Third"> </mat-tab> -->
    </mat-tab-group>
  </div>
</div>
